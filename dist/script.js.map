{"version":3,"sources":["script.js"],"names":["bill","document","getElementById","customTip","people","tipAmount","totalAmount","btnReset","calculatorForm","tipObj","displayTip","tipAmt","totalAmt","innerText","errorHandler","input","message","parentElement","querySelector","enableResetBtn","disabled","calculateTip","obj","tipPer","totalPer","totalTip","Object","keys","length","noOfPeople","tipPercent","parseFloat","toFixed","addEventListener","event","checkValidity","value","querySelectorAll","forEach","item","checked","reset"],"mappings":"AAAA,aACA,IAAMA,KAAOC,SAASC,eAAe,cAC/BC,UAAYF,SAASC,eAAe,cACpCE,OAASH,SAASC,eAAe,oBACjCG,UAAYJ,SAASC,eAAe,cACpCI,YAAcL,SAASC,eAAe,aACtCK,SAAWN,SAASC,eAAe,YACnCM,eAAiBP,SAASC,eAAe,kBAE3CO,OAAS,GAEb,SAASC,WAAWC,EAAQC,GACL,GAAfH,OAAOT,MACPK,UAAUQ,UAAY,QACtBP,YAAYO,UAAY,SACjBF,EAAS,IAChBN,UAAUQ,UAAY,IAAMF,EAC5BL,YAAYO,UAAY,IAAMD,GAItC,SAASE,aAAaC,EAAOC,GACRD,EAAME,cACIC,cAAc,kBAE/BL,UAAYG,EAI1B,SAASG,iBACDZ,SAASa,WACTb,SAASa,UAAW,GAI5B,SAASC,aAAaC,GAClB,IAAIC,EAAS,EACTC,EAAW,EACXC,EAAW,EACgB,GAA3BC,OAAOC,KAAKL,GAAKM,QAAeN,EAAIO,WAAa,IAEjDN,GADAE,EAAWH,EAAItB,KAAOsB,EAAIQ,YACNR,EAAIO,WACxBL,GAAYO,WAAWT,EAAItB,MAAQ+B,WAAWN,IAAaH,EAAIO,YAInEnB,WAFAa,EAASQ,WAAWR,GAAQS,QAAQ,GACpCR,EAAWO,WAAWP,GAAUQ,QAAQ,IAI5ChC,KAAKiC,iBAAiB,SAAS,SAAAC,IAEtBlC,KAAKmC,iBAAmBnC,KAAKoC,MAAMR,OAAS,GAC7Cd,aAAad,KAAM,+BAEnBc,aAAad,KAAM,IACnBmB,iBACAV,OAAOT,KAAOA,KAAKoC,MACnBf,aAAaZ,YAKrBL,OAAO6B,iBAAiB,SAAS,SAAAC,IACxB9B,OAAO+B,iBAAmC,GAAhB/B,OAAOgC,OAAchC,OAAOgC,MAAMR,OAAS,GACtEd,aAAaV,OAAQ,yBAErBU,aAAaV,OAAQ,IACrBe,iBACAV,OAAOoB,WAAazB,OAAOgC,MAC3Bf,aAAaZ,YAIrBR,SAASoC,iBAAiB,oBAAoBC,SAAQ,SAAAC,GAClDA,EAAKN,iBAAiB,UAAU,SAAAC,GAC5Bf,iBACAV,OAAOqB,WAAaS,EAAKH,MAAQ,IACjCjC,UAAUiC,MAAQ,GAClBtB,aAAaX,UAAW,IACxBkB,aAAaZ,cAIrBN,UAAU8B,iBAAiB,SAAS,SAAAC,GAChCjC,SAASoC,iBAAiB,oBAAoBC,SAAQ,SAAAC,GAClDA,EAAKC,SAAU,MAEdrC,UAAUgC,eAAiBhC,UAAUiC,MAAMR,OAAS,EACrDd,aAAaX,UAAW,mBAExBW,aAAaX,UAAW,IACxBgB,iBACAV,OAAOqB,WAAa3B,UAAUiC,MAAQ,IACtCf,aAAaZ,YAKrBF,SAAS0B,iBAAiB,SAAS,SAAAC,GAC/B1B,eAAeiC,QACfhC,OAAS,GACTJ,UAAUQ,UAAY,QACtBP,YAAYO,UAAY,QACxBC,aAAad,KAAM,IACnBc,aAAaV,OAAQ,IACrBU,aAAaX,UAAW,IACxBI,SAASa,UAAW","file":"script.js","sourcesContent":["\r\nconst bill = document.getElementById(\"bill-total\");\r\nconst customTip = document.getElementById(\"custom-tip\");\r\nconst people = document.getElementById(\"number-of-people\");\r\nconst tipAmount = document.getElementById(\"tip-amount\");\r\nconst totalAmount = document.getElementById(\"tip-total\");\r\nconst btnReset = document.getElementById(\"btnReset\");\r\nconst calculatorForm = document.getElementById(\"tip-calculator\");\r\n\r\nlet tipObj = {}\r\n\r\nfunction displayTip(tipAmt, totalAmt) {\r\n    if (tipObj.bill == 0) {\r\n        tipAmount.innerText = \"$0.00\";\r\n        totalAmount.innerText = \"$0.00\";\r\n    } else if (tipAmt > 0) {\r\n        tipAmount.innerText = \"$\" + tipAmt;\r\n        totalAmount.innerText = \"$\" + totalAmt;\r\n    }\r\n}\r\n\r\nfunction errorHandler(input, message) {\r\n    let parentElem = input.parentElement;\r\n    let errorSpan = parentElem.querySelector('.error_message');\r\n\r\n    errorSpan.innerText = message;\r\n}\r\n\r\n\r\nfunction enableResetBtn() {\r\n    if (btnReset.disabled) {\r\n        btnReset.disabled = false;\r\n    }\r\n}\r\n\r\nfunction calculateTip(obj) {\r\n    let tipPer = 0;\r\n    let totalPer = 0;\r\n    let totalTip = 0;\r\n    if (Object.keys(obj).length == 3 && obj.noOfPeople > 0) {\r\n        totalTip = obj.bill * obj.tipPercent;\r\n        tipPer = totalTip / obj.noOfPeople;\r\n        totalPer = (parseFloat(obj.bill) + parseFloat(totalTip)) / obj.noOfPeople;\r\n    }\r\n    tipPer = parseFloat(tipPer).toFixed(2);\r\n    totalPer = parseFloat(totalPer).toFixed(2);\r\n    displayTip(tipPer, totalPer);\r\n}\r\n\r\nbill.addEventListener('input', event => {\r\n    //Check if input is valid\r\n    if (!bill.checkValidity() || bill.value.length > 15) {\r\n        errorHandler(bill, 'Sorry, invalid bill amount');\r\n    } else {\r\n        errorHandler(bill, '');\r\n        enableResetBtn();\r\n        tipObj.bill = bill.value;\r\n        calculateTip(tipObj);\r\n    }\r\n\r\n})\r\n\r\npeople.addEventListener('input', event => {\r\n    if (!people.checkValidity() || people.value == 0 || people.value.length > 15) {\r\n        errorHandler(people, \"Can't be that number\")        \r\n    } else {\r\n        errorHandler(people, \"\");\r\n        enableResetBtn();\r\n        tipObj.noOfPeople = people.value;\r\n        calculateTip(tipObj);\r\n    }    \r\n})\r\n\r\ndocument.querySelectorAll('.selector__value').forEach(item => {\r\n    item.addEventListener('change', event => {\r\n        enableResetBtn();        \r\n        tipObj.tipPercent = item.value / 100;\r\n        customTip.value = \"\";\r\n        errorHandler(customTip, \"\");\r\n        calculateTip(tipObj);\r\n    })\r\n  })\r\n\r\ncustomTip.addEventListener('input', event => {\r\n    document.querySelectorAll('.selector__value').forEach(item => {\r\n        item.checked = false;\r\n    })\r\n    if (!customTip.checkValidity || customTip.value.length > 5) {\r\n        errorHandler(customTip, \"Invalid amount\");\r\n    } else {\r\n        errorHandler(customTip, \"\");\r\n        enableResetBtn();\r\n        tipObj.tipPercent = customTip.value / 100;\r\n        calculateTip(tipObj);\r\n        }\r\n    }\r\n)\r\n\r\nbtnReset.addEventListener('click', event => {\r\n    calculatorForm.reset();    \r\n    tipObj = {}\r\n    tipAmount.innerText = \"$0.00\";\r\n    totalAmount.innerText = \"$0.00\";\r\n    errorHandler(bill, \"\");\r\n    errorHandler(people, \"\");\r\n    errorHandler(customTip, \"\");\r\n    btnReset.disabled = true;\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}